<% if notice.present? %>
  <div class="-m-2 text-center mb-8" id="notice">

    <div class="p-2">
      <div class="inline-flex items-center bg-white leading-none text-purple-600 rounded-full p-2 shadow text-sm">
        <span class="inline-flex bg-purple-600 text-white rounded-full h-6 px-3 justify-center items-center text-">Terminé!</span>
        <span class="inline-flex px-2">
            <%= notice %>
          </span>
      </div>
    </div>

  </div>
<% end %>

<div class="bg-gray-50">
  <div class="max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between">
    <h2 class="text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10">
      Documents recements
      <br />
      <span class="text-indigo-600">importés</span>
    </h2>
    <div class="mt-8 flex lg:flex-shrink-0 lg:mt-0">
      <div class="inline-flex rounded-md shadow">
        <%= link_to 'Editer', edit_document_path(@document), class: "inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out" %>
      </div>
      <div class="ml-3 inline-flex rounded-md shadow">
        <%= link_to 'Documents importés', documents_path, class: "hover:bg-transparent inline-flex items-center justify-center px-5 py-3 border border-transparent text-base leading-6 font-medium rounded-md text-indigo-600 bg-white hover:text-indigo-500 focus:outline-none focus:shadow-outline transition duration-150 ease-in-out" %>
      </div>
    </div>
  </div>
</div>

<!--<div class="flex flex-col">-->
<!--  <div class="-my-2 py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8">-->
<!--    <div class="align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200">-->
<!--      <table class="min-w-full">-->
<!--        <thead>-->
<!--        <tr>-->
<!--          <th class="px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">-->
<!--            Document-->
<!--          </th>-->
<!--          <th class="px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">-->
<!--            Date importation-->
<!--          </th>-->
<!--          <th class="px-6 py-3 border-b border-gray-200 bg-gray-50"></th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody class="bg-white">-->
        <%# @document.file.each do |document| %>
<!--              <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">-->
<!--                <div class="flex items-center">-->
<!--                  <div class="flex-shrink-0 h-30 w-30">-->
                    <%# if document.content_type.end_with?("pdf") %>
                      <%#= link_to(image_tag('pdf.png', size: '100x100'), rails_blob_path(document, disposition: "inline")) %>
                    <%# elsif document.content_type.end_with?("vnd.openxmlformats-officedocument.spreadsheetml.sheet") %>
                      <%#= link_to(image_tag('excel.png', size: '100x100'), rails_blob_path(document, disposition: "inline")) %>
                    <%# elsif document.content_type.end_with?("vnd.openxmlformats-officedocument.wordprocessingml.document") %>
                      <%#= link_to(image_tag('word.png', size: '100x100'), rails_blob_path(document, disposition: "inline")) %>
                    <%# elsif document.image? %>
                      <%#= link_to(image_tag('photo.png', size: '100x100'), rails_blob_path(document, disposition: "inline")) %>
                    <%# elsif document.video? %>
                      <%#= link_to(image_tag('video.png', size: '100x100'), rails_blob_path(document, disposition: "inline")) %>
                    <%# elsif document.audio? %>
                      <%#= link_to(image_tag('audio.png', size: '100x100'), rails_blob_path(document, disposition: "inline")) %>
                    <%# else %>
                      <%#= link_to(image_tag('course.png', size: '100x100'), rails_blob_path(document, disposition: "inline")) %>
                    <%# end %>
<!--                  </div>-->
<!--                  <div class="ml-4">-->
<!--                    <div class="text-sm leading-5 font-medium text-gray-900"><%#= excerpt(document.filename.to_s, '', radius: 30) %></div>-->
<!--                    <div class="text-sm leading-5 text-gray-500"><%#= excerpt(document.content_type, '', radius: 30) %></div>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </td>-->
<!--              <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">-->
<!--                <div class="text-sm leading-5 text-gray-900"><%#= document.created_at.strftime("%d %b %Y") %></div>-->
<!--                <div class="text-sm leading-5 text-gray-500"><%#= document.created_at.strftime("%H:%M") %></div>-->
<!--              </td>-->
<!--              <td class="px-6 py-4 whitespace-no-wrap text-right border-b border-gray-200 text-sm leading-5 font-medium">-->
                <%#= link_to "Prévisualiser", preview_course_path(document_id: params[:id], file_id: document), class: "hover:bg-transparent text-indigo-600 hover:text-indigo-900 focus:outline-none focus:underline" %>
<!--              </td>-->
              <%# if current_user.role.name == 'teacher' %>
<!--                <td class="px-6 py-4 whitespace-no-wrap text-right border-b border-gray-200 text-sm leading-5 font-medium">-->
                  <%#= link_to "Joindre à un cours", join_to_course_path(document_id: @document.id, current_file_id: document.id), class: "hover:bg-transparent text-indigo-600 hover:text-indigo-900 focus:outline-none focus:underline" %>
<!--                </td>-->
              <%# end %>
<!--            </tr>-->
        <%# end %>
<!--        </tbody>-->
<!--      </table>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<section class="text-gray-700 body-font">
  <div class="container px-5 mx-auto">
    <div class="flex flex-wrap -m-4">
      <% @document.file.each do |document| %>
        <div class="lg:w-1/3 sm:w-1/2 p-4">
          <div class="flex relative">
            <% if document.content_type.end_with?("pdf") %>
              <%= link_to(image_tag('pdf.png', size: '640x400', class: 'absolute inset-0 w-full h-full object-cover object-center'), preview_course_path(document_id: params[:id], file_id: document)) %>
            <% elsif document.content_type.end_with?("vnd.openxmlformats-officedocument.spreadsheetml.sheet") %>
              <%= link_to(image_tag('excel.png', size: '640x400', class: 'absolute inset-0 w-full h-full object-cover object-center'), preview_course_path(document_id: params[:id], file_id: document)) %>
            <% elsif document.content_type.end_with?("vnd.openxmlformats-officedocument.wordprocessingml.document") %>
              <%= link_to(image_tag('word.png', size: '640x400', class: 'absolute inset-0 w-full h-full object-cover object-center'), preview_course_path(document_id: params[:id], file_id: document)) %>
            <% elsif document.image? %>
              <%= link_to(image_tag('photo.png', size: '640x400', class: 'absolute inset-0 w-full h-full object-cover object-center'), preview_course_path(document_id: params[:id], file_id: document)) %>
            <% elsif document.video? %>
              <%= link_to(image_tag('video.png', size: '640x400', class: 'absolute inset-0 w-full h-full object-cover object-center'), preview_course_path(document_id: params[:id], file_id: document)) %>
            <% elsif document.audio? %>
              <%= link_to(image_tag('audio.png', size: '640x400', class: 'absolute inset-0 w-full h-full object-cover object-center'), preview_course_path(document_id: params[:id], file_id: document)) %>
            <% else %>
              <%= link_to(image_tag('course.png', size: '640x400', class: 'absolute inset-0 w-full h-full object-cover object-center'), preview_course_path(document_id: params[:id], file_id: document)) %>
            <% end %>
            <img alt="gallery" class="absolute inset-0 w-full h-full object-cover object-center" src="https://dummyimage.com/600x360">
            <div class="px-8 py-10 relative z-10 w-full border-4 border-gray-200 bg-white opacity-0 hover:opacity-100">
              <h2 class="tracking-widest text-sm title-font font-medium text-indigo-500 mb-1">
                <%= link_to excerpt(document.filename.to_s, '', radius: 30), preview_course_path(document_id: params[:id], file_id: document) %>
              </h2>
              <h1 class="title-font text-lg font-medium text-gray-900 mb-3"><%= document.created_at.strftime("%d %b %Y, %Hh:%m") %></h1>
              <p class="leading-relaxed">Photo booth fam kinfolk cold-pressed sriracha leggings jianbing
                microdosing tousled waistcoat.</p>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</section>
